

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>tsurud 0.12.3 release notes &mdash; tsuru 0.12.4 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="tsurud 0.12.2 release notes" href="0.12.2.html" />
    <link rel="prev" title="tsurud 0.12.4 release notes" href="0.12.4.html" /> 

<link rel="stylesheet" href="_static/css/theme_overrides.css" type="text/css" />



  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> tsuru
          

          
          </a>

          
            
            
              <div class="version">
                0.12.4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../understanding/index.html">Understanding</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installing/index.html">Installing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../managing/index.html">Managing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../using/index.html">Using</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../services/index.html">Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../advanced_topics/index.html">Advanced topics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/index.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/index.html">Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Release notes</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#tsurud-tsuru-server-daemon">tsurud (tsuru server daemon)</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="0.12.4.html">tsurud 0.12.4 release notes</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">tsurud 0.12.3 release notes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#improvements">Improvements</a></li>
<li class="toctree-l4"><a class="reference internal" href="#bug-fixes">Bug fixes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="0.12.2.html">tsurud 0.12.2 release notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="0.12.1.html">tsurud 0.12.1 release notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="0.12.0.html">tsurud 0.12.0 release notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tsr/0.11.3.html">tsr 0.11.3 release notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tsr/0.11.2.html">tsr 0.11.2 release notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tsr/0.11.1.html">tsr 0.11.1 release notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tsr/0.11.0.html">tsr 0.11.0 release notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tsr/0.10.2.html">tsr 0.10.2 release notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tsr/0.10.1.html">tsr 0.10.1 release notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tsr/0.10.0.html">tsr 0.10.0 release notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tsr/0.9.1.html">tsr 0.9.1 release notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tsr/0.9.0.html">tsr 0.9.0 release notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tsr/0.8.2.html">tsr 0.8.2 release notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tsr/0.8.1.html">tsr 0.8.1 release notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tsr/0.8.0.html">tsr 0.8.0 release notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tsr/0.7.2.html">tsr 0.7.2 release notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tsr/0.7.1.html">tsr 0.7.1 release notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tsr/0.7.0.html">tsr 0.7.0 release notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tsr/0.6.2.html">tsr 0.6.2 release notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tsr/0.6.1.html">tsr 0.6.1 release notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tsr/0.6.0.html">tsr 0.6.0 release notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tsr/0.5.3.html">tsr 0.5.3 release notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tsr/0.5.2.html">tsr 0.5.2 release notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tsr/0.5.1.html">tsr 0.5.1 release notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tsr/0.5.0.html">tsr 0.5.0 release notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tsr/0.4.0.html">tsr 0.4.0 release notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tsr/0.3.12.html">tsr 0.3.12 release notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tsr/0.3.11.html">tsr 0.3.11 release notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tsr/0.3.10.html">tsr 0.3.10 release notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tsr/0.3.9.html">tsr 0.3.9 release notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tsr/0.3.8.html">tsr 0.3.8 release notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tsr/0.3.7.html">tsr 0.3.7 release notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tsr/0.3.6.html">tsr 0.3.6 release notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tsr/0.3.5.html">tsr 0.3.5 release notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tsr/0.3.4.html">tsr 0.3.4 release notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tsr/0.3.3.html">tsr 0.3.3 release notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tsr/0.3.2.html">tsr 0.3.2 release notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tsr/0.3.1.html">tsr 0.3.1 release notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../tsr/0.3.0.html">tsr 0.3.0 release notes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#tsuru">tsuru</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#tsuru-admin">tsuru-admin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#crane">crane</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../roadmap.html">Roadmap</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">tsuru</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">Release notes</a> &raquo;</li>
        
      <li>tsurud 0.12.3 release notes</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/releases/tsurud/0.12.3.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="tsurud-0-12-3-release-notes">
<h1>tsurud 0.12.3 release notes<a class="headerlink" href="#tsurud-0-12-3-release-notes" title="Permalink to this headline">¶</a></h1>
<p>Welcome to tsurud 0.12.3!</p>
<p>tsurud 0.12.3 includes <a class="reference internal" href="#bug-fixes">bug fixes</a>  and some <a class="reference internal" href="#improvements">improvements</a> on unstable
network environments.</p>
<div class="section" id="improvements">
<h2>Improvements<a class="headerlink" href="#improvements" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">On some unstable network environments it was possible for a deploy to remain
frozen while running Attach and Wait operations on the docker node. This can
happen after a network partition where the connection was severed without FIN
or RST being sent from on end to the other.</p>
<p>This problem was solved in two different ways. First TCP keepalive was enabled
for all connections with the Docker API. This way if there are any problems
severing the connection, the keepalive probe will hopefully receive RST as an
answer when the connectivity with the remote server is re-established, closing
the connection on our end.</p>
<p>As a failsafe, while tsuru is blocked on Attach and Wait requests it will also
keep polling Docker for the current container state. If the container is
stopped it means that the Attach and Wait operations should have ended. At
this moment tsuru will resume the deploy process and ignore the output from
Attach and Wait.</p>
</li>
<li><p class="first">Use the KeepAliveWriter across all streaming handlers in the API, so the API
is able to cope with small timeouts in the network.</p>
</li>
<li><p class="first">Add a service level proxy so service APIs can have management plugins. This
proxy endpoint checks the permission of the user as an admin of the service.
The other proxy endpoint checks the user permission in the service instance.</p>
</li>
</ul>
</div>
<div class="section" id="bug-fixes">
<h2>Bug fixes<a class="headerlink" href="#bug-fixes" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fix bug in <code class="docutils literal notranslate"><span class="pre">/units/status</span></code> route that is called by bs containers. The bug
caused this route to return a 500 error if the request included containers
with the status <code class="docutils literal notranslate"><span class="pre">building</span></code> in tsuru’s database.</li>
<li>Fix error message in the docker-node-update handler when it’s called with an
invalid name (issue <a class="reference external" href="https://github.com/tsuru/tsuru/issues/1207">#1207</a>).</li>
<li>Fix bug in Procfile parsing in the API. We used to parse it as YAML, but a
Procfile is not really an YAML.</li>
<li>Properly manage repository permissions in Gandalf after running
app-set-team-owner (issue <a class="reference external" href="https://github.com/tsuru/tsuru/issues/1270">#1270</a>).</li>
<li>Fix quota management for units in applications (issue <a class="reference external" href="https://github.com/tsuru/tsuru/issues/1279">#1279</a>).</li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="0.12.2.html" class="btn btn-neutral float-right" title="tsurud 0.12.2 release notes" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="0.12.4.html" class="btn btn-neutral" title="tsurud 0.12.4 release notes" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, tsuru authors.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Versions</span>
    v: 0.12.4
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dd><a href="/stable/">stable</a></dd>
      <dd><a href="/latest/">latest</a></dd>
      <dd><a href="/main/">main</a></dd>
    </dl>
    <dl>
      <dt>Releases</dt>
      <dd><a href="/1.12/">1.12</a></dd>
      <dd><a href="/1.11/">1.11</a></dd>
      <dd><a href="/1.10/">1.10</a></dd>
      <dd><a href="/1.9/">1.9</a></dd>
      <dd><a href="/1.8/">1.8</a></dd>
      <dd><a href="/1.7/">1.7</a></dd>
      <dd><a href="/1.6/">1.6</a></dd>
      <dd><a href="/1.5/">1.5</a></dd>
      <dd><a href="/1.4/">1.4</a></dd>
      <dd><a href="/1.3/">1.3</a></dd>
      <dd><a href="/1.2/">1.2</a></dd>
      <dd><a href="/1.1/">1.1</a></dd>
      <dd><a href="/1.0/">1.0</a></dd>
      <dd><a href="/0.13/">0.13</a></dd>
      <dd><a href="/0.12/">0.12</a></dd>
      <dd><a href="/0.11/">0.11</a></dd>
      <dd><a href="/0.10/">0.10</a></dd>
      <dd><a href="/0.9/">0.9</a></dd>
      <dd><a href="/0.8/">0.8</a></dd>
      <dd><a href="/0.7/">0.7</a></dd>
      <dd><a href="/0.6/">0.6</a></dd>
      <dd><a href="/0.5/">0.5</a></dd>
      <dd><a href="/0.4/">0.4</a></dd>
      <dd><a href="/0.3/">0.3</a></dd>
      <dd><a href="/0.2/">0.2</a></dd>
      <dd><a href="/0.1/">0.1</a></dd>
    </dl>
    <hr />
  </div>
</div>


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'0.12.4',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>