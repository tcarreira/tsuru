

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Client usage &mdash; tsuru 0.8.2 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Frequently Asked Questions" href="../faq.html" />
    <link rel="prev" title="tsuru-admin usage" href="tsuru-admin.html" /> 

<link rel="stylesheet" href="_static/css/theme_overrides.css" type="text/css" />



  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> tsuru
          

          
          </a>

          
            
            
              <div class="version">
                0.8.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../understanding/index.html">Understanding</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installing/index.html">Installing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../managing/index.html">Managing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using/index.html">Using</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../services/index.html">Services</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="config.html">Configuring tsuru</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html">API reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="services.html">Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="tsuru-admin.html">tsuru-admin usage</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Client usage</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#setting-a-target">Setting a target</a></li>
<li class="toctree-l3"><a class="reference internal" href="#authentication">Authentication</a></li>
<li class="toctree-l3"><a class="reference internal" href="#apps">Apps</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#associating-your-user-to-a-team">Associating your user to a team</a></li>
<li class="toctree-l4"><a class="reference internal" href="#creating-an-app">Creating an app</a></li>
<li class="toctree-l4"><a class="reference internal" href="#listing-your-apps">Listing your apps</a></li>
<li class="toctree-l4"><a class="reference internal" href="#showing-app-info">Showing app info</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#public-keys">Public Keys</a></li>
<li class="toctree-l3"><a class="reference internal" href="#running-commands">Running commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="#further-instructions">Further instructions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases/index.html">Release notes</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">tsuru</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Reference</a> &raquo;</li>
        
      <li>Client usage</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/reference/tsuru-client.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="client-usage">
<h1>Client usage<a class="headerlink" href="#client-usage" title="Permalink to this headline">¶</a></h1>
<p>After <a class="reference internal" href="../using/install-client.html"><span class="doc">installing the tsuru client</span></a>, you must set the
target with the tsuru server URL, something like:</p>
<div class="section" id="setting-a-target">
<h2>Setting a target<a class="headerlink" href="#setting-a-target" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ tsuru target-add default https://cloud.tsuru.io
$ tsuru target-set default
</pre></div>
</div>
</div>
<div class="section" id="authentication">
<h2>Authentication<a class="headerlink" href="#authentication" title="Permalink to this headline">¶</a></h2>
<p>After that, all you need is to create a user and authenticate to start creating
apps and pushing code to them. Use <a class="reference external" href="http://godoc.org/github.com/tsuru/tsuru-client/tsuru#hdr-Create_a_user">create-user</a> and
<a class="reference external" href="http://godoc.org/github.com/tsuru/tsuru-client/tsuru#hdr-Authenticate_within_remote_tsuru_server">login</a>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ tsuru user-create youremail@gmail.com
$ tsuru login youremail@gmail.com
</pre></div>
</div>
</div>
<div class="section" id="apps">
<h2>Apps<a class="headerlink" href="#apps" title="Permalink to this headline">¶</a></h2>
<div class="section" id="associating-your-user-to-a-team">
<h3>Associating your user to a team<a class="headerlink" href="#associating-your-user-to-a-team" title="Permalink to this headline">¶</a></h3>
<p>You need to be member of a team to create an app. To create a new team, use
<a class="reference external" href="http://godoc.org/github.com/tsuru/tsuru-client/tsuru#hdr-Create_a_new_team_for_the_user">create-team</a>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ tsuru team-create teamname
</pre></div>
</div>
</div>
<div class="section" id="creating-an-app">
<h3>Creating an app<a class="headerlink" href="#creating-an-app" title="Permalink to this headline">¶</a></h3>
<p>To create an app, use <a class="reference external" href="http://godoc.org/github.com/tsuru/tsuru-client/tsuru#hdr-Create_an_app">app-create</a>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ tsuru app-create myblog &lt;platform&gt; <span class="o">[</span>--plan/-p plan_name<span class="o">]</span> <span class="o">[</span>--team/-t team_owner<span class="o">]</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">platform</span></code> parameter is the name of the platform to be used when creating
the app. This will definer how tsuru understands and executes your app. The list
of available platforms can be found running <code class="docutils literal notranslate"><span class="pre">tsuru</span> <span class="pre">platform-list</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">--plan</span></code> parameter defines the plan to be used. The plan specifies how
computational resources are allocated to your application. Typically this means
limits for memory and swap usage, and how much cpu share is allocated. The list of
available plans can be found running <code class="docutils literal notranslate"><span class="pre">tsuru</span> <span class="pre">plan-list</span></code>.</p>
<p>If this parameter is not informed, tsuru will choose the plan with the <code class="docutils literal notranslate"><span class="pre">default</span></code>
flag set to true.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">team</span></code> parameter describes which team is responsible for the created app,
this is only needed if the current user belongs to more than one team, in which
case this parameter will be mandatory.</p>
<p>After running successfully the command will return your app’s remote url, you
should add it to your git repository:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git remote add tsuru git@tsuru.myhost.com:myblog.git
</pre></div>
</div>
</div>
<div class="section" id="listing-your-apps">
<h3>Listing your apps<a class="headerlink" href="#listing-your-apps" title="Permalink to this headline">¶</a></h3>
<p>When your app is ready, you can push to it. To check whether it is ready or
not, you can use <a class="reference external" href="http://godoc.org/github.com/tsuru/tsuru-client/tsuru#hdr-List_apps_that_you_have_access_to">app-list</a>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ tsuru app-list
</pre></div>
</div>
<p>This will return something like:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>+-------------+-------------------------+-------------------------------------------+
<span class="p">|</span> Application <span class="p">|</span> Units State Summary     <span class="p">|</span> Ip                                        <span class="p">|</span>
+-------------+-------------------------+-------------------------------------------+
<span class="p">|</span> myblog      <span class="p">|</span> <span class="m">1</span> of <span class="m">1</span> units in-service <span class="p">|</span> myblog-838381.us-east-1-elb.amazonaws.com <span class="p">|</span>
+-------------+-------------------------+-------------------------------------------+
</pre></div>
</div>
</div>
<div class="section" id="showing-app-info">
<h3>Showing app info<a class="headerlink" href="#showing-app-info" title="Permalink to this headline">¶</a></h3>
<p>You can also use the <a class="reference external" href="http://godoc.org/github.com/tsuru/tsuru-client/tsuru#hdr-Display_information_about_an_app">app-info</a>
command to view information of an app. Including the status of the app:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ tsuru app-info
</pre></div>
</div>
<p>This will return something like:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>Application: myblog
Platform: gunicorn
Repository: git@githost.com:myblog.git
Teams: team1, team2
Units:
+----------+---------+
<span class="p">|</span> Unit     <span class="p">|</span> State   <span class="p">|</span>
+----------+---------+
<span class="p">|</span> myblog/0 <span class="p">|</span> started <span class="p">|</span>
<span class="p">|</span> myblog/1 <span class="p">|</span> started <span class="p">|</span>
+----------+---------+
</pre></div>
</div>
<p>tsuru uses information from git configuration to guess the name of the app, for
more details, see <a class="reference external" href="http://godoc.org/github.com/tsuru/tsuru-client/tsuru#hdr-Guessing_app_names">“Guessing app names”</a>
section of tsuru command documentation.</p>
</div>
</div>
<div class="section" id="public-keys">
<h2>Public Keys<a class="headerlink" href="#public-keys" title="Permalink to this headline">¶</a></h2>
<p>You can try to push now, but you’ll get a permission error, because you haven’t
pushed your key yet.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ tsuru key-add
</pre></div>
</div>
<p>This will search for a <cite>id_rsa.pub</cite> file in ~/.ssh/, if you don’t have a
generated key yet, you should generate one before running this command.</p>
<p>If you have a public key in other format (for example, DSA), you can also give
the public key file to <a class="reference external" href="http://godoc.org/github.com/tsuru/tsuru-client/tsuru#hdr-Add_SSH_public_key_to_tsuru_s_git_server">key-add</a>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ tsuru key-add <span class="nv">$HOME</span>/.ssh/id_dsa.pub
</pre></div>
</div>
<p>After your key is added, you can push your application to your cloud:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ git push tsuru master
</pre></div>
</div>
</div>
<div class="section" id="running-commands">
<h2>Running commands<a class="headerlink" href="#running-commands" title="Permalink to this headline">¶</a></h2>
<p>After that, you can check your app’s url in the browser and see your app there.
You’ll probably need to run migrations or other deploy related commands. To run
a single command, you should use the command <a class="reference external" href="http://godoc.org/github.com/tsuru/tsuru-client/tsuru#hdr-Run_an_arbitrary_command_in_the_app_machine">run</a>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ tsuru run <span class="s2">&quot;python manage.py syncdb &amp;&amp; python manage.py migrate&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="further-instructions">
<h2>Further instructions<a class="headerlink" href="#further-instructions" title="Permalink to this headline">¶</a></h2>
<p>For a complete reference, check the documentation for tsuru command:
<a class="reference external" href="http://godoc.org/github.com/tsuru/tsuru-client/tsuru">http://godoc.org/github.com/tsuru/tsuru-client/tsuru</a>.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../faq.html" class="btn btn-neutral float-right" title="Frequently Asked Questions" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="tsuru-admin.html" class="btn btn-neutral" title="tsuru-admin usage" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, tsuru authors.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Versions</span>
    v: 0.8.2
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dd><a href="/stable/">stable</a></dd>
      <dd><a href="/latest/">latest</a></dd>
      <dd><a href="/main/">main</a></dd>
    </dl>
    <dl>
      <dt>Releases</dt>
      <dd><a href="/1.12/">1.12</a></dd>
      <dd><a href="/1.11/">1.11</a></dd>
      <dd><a href="/1.10/">1.10</a></dd>
      <dd><a href="/1.9/">1.9</a></dd>
      <dd><a href="/1.8/">1.8</a></dd>
      <dd><a href="/1.7/">1.7</a></dd>
      <dd><a href="/1.6/">1.6</a></dd>
      <dd><a href="/1.5/">1.5</a></dd>
      <dd><a href="/1.4/">1.4</a></dd>
      <dd><a href="/1.3/">1.3</a></dd>
      <dd><a href="/1.2/">1.2</a></dd>
      <dd><a href="/1.1/">1.1</a></dd>
      <dd><a href="/1.0/">1.0</a></dd>
      <dd><a href="/0.13/">0.13</a></dd>
      <dd><a href="/0.12/">0.12</a></dd>
      <dd><a href="/0.11/">0.11</a></dd>
      <dd><a href="/0.10/">0.10</a></dd>
      <dd><a href="/0.9/">0.9</a></dd>
      <dd><a href="/0.8/">0.8</a></dd>
      <dd><a href="/0.7/">0.7</a></dd>
      <dd><a href="/0.6/">0.6</a></dd>
      <dd><a href="/0.5/">0.5</a></dd>
      <dd><a href="/0.4/">0.4</a></dd>
      <dd><a href="/0.3/">0.3</a></dd>
      <dd><a href="/0.2/">0.2</a></dd>
      <dd><a href="/0.1/">0.1</a></dd>
    </dl>
    <hr />
  </div>
</div>


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.8.2',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>